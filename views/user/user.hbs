
  <!-- Bootstrap & Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  /* ===== Body & Background ===== */
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    background: linear-gradient(120deg, #e0f7fa, #f3e5f5);
    animation: gradientMove 10s ease infinite;
    background-size: 400% 400%;
  }

  @keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* ===== Navbar ===== */
  .navbar {
    backdrop-filter: blur(8px);
    background: rgba(255, 255, 255, 0.8) !important;
    transition: all 0.3s ease;
  }

  .navbar-brand {
    font-size: 1.5rem;
    transition: transform 0.3s ease;
  }

  .navbar-brand:hover {
    transform: scale(1.1);
    color: #ff9800 !important;
  }

  .nav-link {
    position: relative;
    font-weight: 500;
    transition: color 0.3s ease;
  }

  .nav-link:hover {
    color: #ff9800 !important;
  }

  .nav-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0%;
    height: 2px;
    background: #ff9800;
    transition: all 0.3s ease;
    transform: translateX(-50%);
  }

  .nav-link:hover::after {
    width: 60%;
  }

  /* ===== Section Fade-In ===== */
  section {
    animation: fadeIn 1.5s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ===== Welcome Box ===== */
  .welcome-box {
    background: rgba(255, 255, 255, 0.85);
    border-radius: 15px;
    padding: 40px;
    margin: 40px auto;
    max-width: 600px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    backdrop-filter: blur(10px);
    text-align: center;
  }

  .welcome-box h1 {
    color: #333;
    font-weight: 700;
  }

  .welcome-box p {
    color: #666;
  }

  /* ===== Custom Buttons ===== */
  .btn-custom {
    background: linear-gradient(90deg, #ff9800, #ffb74d);
    color: white;
    border: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .btn-custom:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(255,152,0,0.4);
  }

  .btn-warning:hover {
    background-color: #e0a800;
    color: #fff;
  }


  /* ===== Product Card Images ===== */
  .card-img-top {
    object-fit: cover;
    height: 180px;
  }
  h3{
    font-size: 1.2rem;
    font-weight: 600;
    text-align: center;
    text-transform: uppercase;
  }
  h1{
    text-transform: uppercase;
  }
  #p{
    font-size: 0. ninerem;
    text-align: center;
    text-transform: uppercase;
  }
  #pr{
    text-align: center;
  }
  .nav-logo {
  height: 38px;
  width: 38px;
  border-radius: 50%;
  border: 2px solid #fff;
  margin-right: 8px;
  object-fit: cover;
  transition: transform 0.4s ease-in-out;
}

.brand-logo {
  transition: transform 0.3s ease-in-out;
}

.brand-logo span,
.brand-logo {
  transition: all 0.4s ease-in-out;
}

/* Hover Effects */
.brand-logo:hover .nav-logo {
  transform: rotate(360deg) scale(2.15);
}

.brand-logo:hover {
  transform: scale(1.05);
}

</style>


  <nav class="navbar navbar-expand-lg navbar-light shadow-sm sticky-top">
    <div class="container-fluid px-4">
    <a class="navbar-brand fw-bold text-dark d-flex align-items-center brand-logo" href="{{#if name}}/user{{else}}/{{/if}}">
        <img src="/uploads/logo.png" alt="Logo" class="nav-logo">
        
        {{#if name}}
          {{name}}<span class="text-warning">'s</span> SHOP
        {{else}}
          E<span class="text-warning">cartHub</span>
        {{/if}}
    </a>



      <!-- Toggle button -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0 d-flex align-items-center">
         <li class="nav-item mx-2">
          <a class="nav-link text-dark" href="{{#if name}}/user{{else}}/{{/if}}">
            <i class="fa-solid fa-house me-1"></i> Home
          </a>
        </li>

          

    <!-- Cart -->
    <li class="nav-item mx-2">
      <a class="nav-link text-dark" href="{{#if user}}/cart{{else}}/login{{/if}}">
        <i class="fa-solid fa-cart-shopping me-1"></i> Cart
      </a>
    </li>

    <!-- Search -->
    <li class="nav-item mx-2">
      <a class="nav-link text-dark" href="{{#if user}}/search{{else}}/login{{/if}}">
        <i class="fa-solid fa-magnifying-glass me-1"></i> Search
      </a>
    </li>

    <!-- Orders -->
    <li class="nav-item mx-2">
      <a class="nav-link text-dark" href="{{#if user}}/orders{{else}}/login{{/if}}">
        <i class="fa-solid fa-box me-1"></i> Orders
      </a>
    </li>

    <!-- Profile -->
    <li class="nav-item mx-2">
      <a class="nav-link text-dark" href="{{#if user}}/profile{{else}}/login{{/if}}">
        <i class="fa-solid fa-user me-1"></i> Profile
      </a>
    </li>

    <!-- Logout -->
    <li class="nav-item mx-2">
      {{#if user}}
      <a class="nav-link text-danger fw-semibold" href="/logout">
        <i class="fa-solid fa-right-from-bracket me-1"></i> Logout
      </a>
      {{else}}
      <a class="nav-link text-dark" href="/login">
        <i class="fa-solid fa-right-to-bracket me-1"></i> Login
      </a>
      {{/if}}
    </li>

      </div>
    </div>
  </nav>

  <!-- Welcome Section -->
  <section class="text-center">
    <div class="welcome-box">
      <h1>Welcome, {{name}} ðŸ‘‹</h1>
      <p class="text-muted">Explore your personalized dashboard and enjoy shopping with style.</p>
      <a href="/products" class="btn btn-custom mt-3 px-4 py-2"><i class="fa-solid fa-store me-2"></i>Start Shopping</a>
    </div>
  </section>
    <!-- Products / Cards Section -->

<section class="py-5">
  <div class="container">
    <div class="row g-4">
      {{#each products}}
      <div class="col-sm-6 col-md-4 col-lg-3">
        <div class="card shadow-sm h-100">
          <!-- Use first resized image, fallback to placeholder -->
          <img 
            src="{{#if this.resizedImages.[0]}}/rimage/{{this.resizedImages.[0]}}{{else}}/placeholder.png{{/if}}" 
            class="card-img-top" 
            alt="{{this.name}}">

          <div class="card-body d-flex flex-column">
            <h3 class="card-title">{{this.name}}</h5>
            <p id="p" class="card-text text-muted flex-grow-1">{{this.description}}</p>
             <div id="pr" class="mt-2 fw-bold text-success text-center">${{this.price}}</div>
             <div class="d-flex justify-content-between mt-3">
              <!-- Add to Cart Button -->
              <form action="/cart/add/{{this._id}}" method="POST">
                <button type="submit" class="btn btn-primary btn-sm">
                  <i class="fa-solid fa-cart-plus me-1"></i> Add to Cart
                </button>
              </form>

              <!-- Buy Now Button -->
              <form action="/buy-now/{{this._id}}" method="GET">
                <button type="submit" class="btn btn-success btn-sm">
                   <i class="fa-solid fa-bolt me-1"></i> Buy Now
              </button>
                </form>

            </div>

            
            
          </div>
        </div>
      </div>
      {{/each}}
    </div>
  </div>
</section>


    </div>
  </div>
</section>

</div>


